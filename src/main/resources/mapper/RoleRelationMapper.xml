<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="frame.ssm.demo.dao.RoleRelationMapper">
	<resultMap id="BaseResultMap" type="frame.ssm.demo.model.RoleRelation">
		<id column="RELATION_UUID" jdbcType="VARCHAR" property="relationUuid" />
    	<result column="USER_ACCOUNT" jdbcType="VARCHAR" property="userAccount" />
    	<result column="ROLE_UUID" jdbcType="VARCHAR" property="roleUuid" />
    	<result column="PARENT_UUID" jdbcType="VARCHAR" property="parentUuid" />
    	<result column="CREATE_TIME" jdbcType="VARCHAR" property="createTime" />
	    <result column="CREATE_USER" jdbcType="VARCHAR" property="createUser" />
	    <result column="UPDATE_TIME" jdbcType="VARCHAR" property="updateTime" />
	    <result column="UPDATE_USER" jdbcType="VARCHAR" property="updateUser" />
	    <result column="DEL_FLAG" jdbcType="TINYINT" property="delFlag" />
	    <result column="ENABLE" jdbcType="TINYINT" property="enable" />
	</resultMap>
	
	<sql id="BASE_COLUMN">
		RELATION_UUID, USER_ACCOUNT, ROLE_UUID, PARENT_UUID, CREATE_TIME, CREATE_USER, UPDATE_TIME, UPDATE_USER, 
    	DEL_FLAG, ENABLE
	</sql>
	
	<sql id="BASE_TABLE">
		T_D_ROLE_RELATION
	</sql>
	
	<select id="selectRoleByUserAccount" parameterType="java.lang.String" resultMap="BaseResultMap">
		SELECT 
			<include refid="BASE_COLUMN"/> 
		FROM 
			<include refid="BASE_TABLE"/> 
		WHERE USER_ACCOUNT = #{userAccount}
	</select>
	<select id="getRolesByUserId" parameterType="java.lang.String" resultMap="BaseResultMap">
		SELECT 
			<include refid="BASE_COLUMN"/> 
		FROM 
			<include refid="BASE_TABLE"/> 
		WHERE USER_ACCOUNT = #{userAccount}
	</select>
</mapper>